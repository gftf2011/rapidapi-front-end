<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Antic+Didone&family=Montserrat:ital,wght@0,300;0,400;0,700;1,300;1,700&family=Roboto&display=swap" rel="stylesheet">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">
    <!-- Font-Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css">
    <link rel="stylesheet" href="./css/stylesheet.css">
    <title>Rapidapi Hotel list</title>
</head>
<body>
    <div style="height: 100vh;" id="carousel" class="carousel slide" data-ride="carousel">
        <ol style="z-index: 3;" class="carousel-indicators">
            <li data-target="#carousel" data-slide-to="0" class="active"></li>
            <li data-target="#carousel" data-slide-to="1"></li>
            <li data-target="#carousel" data-slide-to="2"></li>
        </ol>
        <div class="carousel-inner">
            <div class="carousel-item active">
                <div style="position: relative; height: 100vh;" id="first-slider">
                    <div style="position: absolute; height: 100vh; z-index: 2; background-color: rgba(0,0,0,.35); left: 0; right: 0;">
                        <span style="padding-top: 16px;" class="d-flex flex-row justify-content-center">
                            <h1 style="border: 1px solid #fff; padding: 8px; border-radius: 4px;" class="text-white"><i class="fas fa-crown"></i> Rapidapi</h1>
                        </span>
                        <span style="padding-top: 16px;" class="d-flex flex-row justify-content-center">
                            <h4 class="text-white"><u>Your Dream vacation is ONE click away!</u></h4>
                        </span>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div style="height: 100vh;" id="second-slider">
                    <div style="position: absolute; height: 100vh; z-index: 2; background-color: rgba(0,0,0,.35); left: 0; right: 0;">
                        <span style="padding-top: 16px;" class="d-flex flex-row justify-content-center">
                            <h1 style="border: 1px solid #fff; padding: 8px; border-radius: 4px;" class="text-white"><i class="fas fa-crown"></i> Rapidapi</h1>
                        </span>
                        <span style="padding-top: 16px;" class="d-flex flex-row justify-content-center">
                            <h4 class="text-white"><u>Your Dream vacation is ONE click away!</u></h4>
                        </span>
                    </div>
                </div>
            </div>
            <div class="carousel-item">
                <div style="height: 100vh;" id="third-slider">
                    <div class="container">
                        <div style="position: absolute; height: 100vh; z-index: 2; background-color: rgba(0,0,0,.35); left: 0; right: 0;">
                            <span style="padding-top: 16px;" class="d-flex flex-row justify-content-center">
                                <h1 style="border: 1px solid #fff; padding: 8px; border-radius: 4px;" class="text-white"><i class="fas fa-crown"></i> Rapidapi</h1>
                            </span>
                            <span style="padding-top: 16px;" class="d-flex flex-row justify-content-center">
                                <h4 class="text-white"><u>Your Dream vacation is ONE click away!</u></h4>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <a style="z-index: 3;" class="carousel-control-prev" href="#carousel" role="button" data-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="sr-only">Previous</span>
        </a>
        <a style="z-index: 3;" class="carousel-control-next" href="#carousel" role="button" data-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="sr-only">Next</span>
        </a>
    </div>

    <div style="margin-top: 24px;" class="container">
        <form>
            <div class="row">
                <div class="col-sm-12">
                    <label><i class="fas fa-map-marker-alt"></i> <strong>Location</strong></label>
                    <input id="location" type="text" class="form-control"  placeholder="Type the city name you want to GO...">
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12">
                    <label><strong>Check-In</strong></label>
                    <input id="check-in" type="date" class="form-control">
                </div>
                <div class="col-lg-4 col-md-6 col-sm-12">
                    <label><strong>Check-Out</strong></label>
                    <input id="check-out" type="date" class="form-control">
                </div>
                <div class="col-lg-2 col-md-6 col-sm-12">
                    <label><i class="far fa-user"></i> <strong>Guest</strong></label>
                    <input id="guests-number" type="number" class="form-control" min="1" value="1" placeholder="Guest">
                </div>
                <div class="col-lg-2 col-md-6 col-sm-12">
                    <button id="search-btn" style="margin-top: 32px;" type="submit" class="btn btn-primary btn-block"><i class="fas fa-search"></i> SEARCH</button>
                </div>
            </div>
        </form>
    </div>

    <div style="margin-top: 24px;" class="container-fluid">
        <div class="row" id="booking-list">
        </div>
    </div>
    <!-- jQuery library -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

    <!-- Popper JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

    <!-- Latest compiled JavaScript -->
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>
    
    <!-- Font-Awesome -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/js/all.min.js"></script>
    <script src="./js/date.js"></script>
    <script src="./js/views/main.js"></script>
    <script>
        var checkIn = document.getElementById('check-in');
        var checkOut = document.getElementById('check-out');
        var locale = document.getElementById('location');
        var guestsNumber = document.getElementById('guests-number');
        var searchBtn = document.getElementById('search-btn');

        var datePicked = getCheckinDate();
        var checkOutDatePicked = getCheckoutDate(datePicked);

        checkIn.addEventListener('change', () => {
            var checkOutDate = getCheckoutDate(checkIn.value);

            checkOut.value = checkOutDate;
            checkOut.min = checkOutDate;

            console.log(nigthsNumber(checkIn.value, checkOut.value));
        });

        checkOut.addEventListener('change', () => {
            console.log(nigthsNumber(checkIn.value, checkOut.value));
        });

        checkIn.value = datePicked;
        checkIn.min = datePicked;
        checkOut.value = checkOutDatePicked;
        checkOut.min = checkOutDatePicked;

        searchBtn.addEventListener('click', event => {
            event.preventDefault();

            get(checkIn.value, guestsNumber.value, nigthsNumber(checkIn.value, checkOut.value), locale.value);
        });

        get(getCheckinDate(), guestsNumber.value, nigthsNumber(checkIn.value, checkOut.value), locale.value);
    </script>
</body>
</html>